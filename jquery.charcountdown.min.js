/* jQuery Char Countdown:  Creates a Twitter-like counter on an input | Author: Dan Karney @KarneAsada */
(function(a,b,c,d){function g(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}function h(a,b,c){var d,e,f;if(b==0)d=e=f=c;else{function g(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;d=g(i,h,a+1/3),e=g(i,h,a),f=g(i,h,a-1/3)}return[Math.floor(d*255),Math.floor(e*255),Math.floor(f*255)]}var e="charCountdown",f={position:"after",limit:100,enforce:!1,className:"jqCharCountdown",suffix:"chars left",onChange:null};g.prototype.init=function(){var b=this,c=this.options,d=a(this.element);c.enforce&&d.attr("maxlength",c.limit);var e=a("<span>").addClass(c.className);switch(c.position){case"before":d.before(e);break;default:d.after(e)}d.bind("keyup",function(){e.text(c.limit-d.val().length+(c.suffix.length?" "+c.suffix:""));if(c.onChange!=null&&typeof c.onChange=="function")c.onChange(e,d,c.limit-d.val().length);else{var a=d.val().length<c.limit?(c.limit-d.val().length)/c.limit:0,b=h(a*120/360,1,.4);e.css("color","rgb("+b.join(",")+")")}}),d.trigger("keyup")},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}})(jQuery,window,document)